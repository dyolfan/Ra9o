<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link href="../../../../../doc/style.css?colorTheme=Custom.OdoTheme" rel="stylesheet" type="text/css" media="all"></head><body><p><a name="top"></a></p><table width="100%"><tr><td style="border: none; text-align: left;"><span class="wikilink"><a href="https://odo.lv/xwiki/bin/view/Training/JavaExercise13">Prev</a></span><br/><span class="xdocNavigation">13. JDBC</span></td><td style="border: none; text-align: right;"><span class="wikilink"><a href="https://odo.lv/xwiki/bin/view/Training/JavaExercise15">Next</a></span><br/><span class="xdocNavigation">15. GUI Application</span></td></tr></table><h1 id="H14.exercise:UnitTesting"><span>14. exercise: Unit Testing</span></h1><p><strong>Tasks</strong></p><ul><li><span class="wikilink"><a href="#HPreparation">Preparation</a></span></li><li><span class="wikilink"><a href="#HSetuptestedclasses">Set up tested classes</a></span></li><li><span class="wikilink"><a href="#HCreationofnewJUnittestcase">Creation of new JUnit test case</a></span></li><li><span class="wikilink"><a href="#HManualtesting">Manual testing</a></span></li><li><span class="wikilink"><a href="#HAutomatedtesting">Automated testing</a></span><ul><li><span class="wikilink"><a href="#HUsingmain2829methodofthetest">Using main() method of the test</a></span></li><li><span class="wikilink"><a href="#HUsingmodifiedTestSuite">Using modified Test Suite</a></span></li></ul></li><li><span class="wikilink"><a href="#HOptionaltask">Optional task</a></span></li><li><span class="wikilink"><a href="#HMoreinfo">More info</a></span></li></ul><h2 id="HPreparation"><span>Preparation</span></h2><ol><li><div><p>Review presentation <span class="wikiinternallink"><a href="https://odo.lv/git/JTM/plain/doc/presentations/14_Junit.odp">JUnit</a></span></p><p> &nbsp;&nbsp;<video src="https://odo.lv/ftp/lectures/Java14.ogv" width='300' controls></body></html>
<a href="https://odo.lv/ftp/lectures/Java14.ogv">Java14.ogv</a></body></html>
</video></p></div></li><li>Investigate <strong>jtm.activity14</strong> package</li><li>Install <span class="wikilink"><a href="https://odo.lv/xwiki/bin/view/Recipes/EclEmma">EclEmma</a></span> and check test coverage</li></ol><h2 id="HSetuptestedclasses"><span>Set up tested classes</span></h2><ol><li>Implement class <strong>Student</strong> similarly to <strong>Teacher</strong> class</li><li>Implement <strong>StudentManager</strong> class, similarly to <strong>TeacherManager</strong> class in <strong>activity13</strong>.<br/>2. You can simply copy-paste methods and make necessary changes.<br/>3. Note that you can introduce bugs here, as it can be that not all necessary changes are done correctly.</li></ol><h2 id="HCreationofnewJUnittestcase"><span>Creation of new JUnit test case</span></h2><ol><li>Right-click on <strong>jtm.activity14</strong> package in Package Explorer and select: <strong>New— New JUnit Test Case</strong>.</li><li>In <em>New JUnit Test case</em> window:<ol><li>Check that test <em>version</em> is: <strong>New JUnit 4 test</strong>,</li><li>Check that test <em>location</em> is: <strong>.../src/main/java</strong>,</li><li>Check that <em>package</em> is: <strong>jtm.activity14</strong>,</li><li>Set test Name: <strong>DatabaseUnitTest1</strong> (this name important, as it will be used by automated test of test)</li><li>Mark <strong>setUpBeforeClass()</strong>, <strong>tearDownAfterClass()</strong> if necessary,</li><li>Mark <strong>setUp()</strong> and <strong>tearDown()</strong> if necessary,</li><li>Mark <strong>GenerateComments</strong> if necessary,</li><li>Set <em>Class under test</em>: <strong>jtm.activity14.StudentManager</strong>,</li><li>Press <strong>Next</strong>.</li></ol></li><li>In <em>Test methods</em> window:<ol><li>Mark <strong>StudentManager</strong> class, to test all its methods,</li><li>Mark <strong>Create final method stubs</strong>, if necessary,</li><li>Mark <strong>Create tasks for generated tests methods</strong>, if necessary,</li><li>Press <strong>Finish</strong>.</li></ol></li></ol><h2 id="HManualtesting"><span>Manual testing</span></h2><ol><li>Select: <strong>Run— Run as— JUnit test</strong>, to test this file as simple unit test.</li><li>Right-click on test (or package) in Package explorer and select: <strong>Coverage as– JUnit test</strong>, to check coverage of the tested classes.</li></ol><h2 id="HAutomatedtesting"><span>Automated testing</span></h2><p>Automated testing and coverage reporting is performed by <strong>DatabaseUnitTest</strong>.java test, which is compiled in<strong>&nbsp;JTM.jar</strong> package.<br/>To test, how it will work manually you can do following.</p><h3 id="HUsingmain2829methodofthetest"><span>Using main() method of the test</span></h3><ol><li>Create <em>public static void main(String[] args)</em> method, to allow test run as Java application.</li><li><div><p>Create following body for this method:</p><div class="box"><div class="code">public static void main(String[] args) &#123;<br/>&nbsp;&nbsp;&nbsp;&nbsp;DatabaseUnitTest dbUnitTest = new DatabaseUnitTest();<br/>&nbsp;&nbsp;&nbsp;&nbsp;dbUnitTest.test();<br/>}</div></div></div></li></ol><ol><li>Select: <strong>Run— Run as...— Java application</strong>, to check, how your test will be executed from the automated test suite</li></ol><h3 id="HUsingmodifiedTestSuite"><span>Using modified Test Suite</span></h3><ol><li>Open <strong>AllTests.java</strong> class in <strong>jtm.testSuite package</strong>,</li><li>If necessary, comment out unneeded classes from <span class="wikimodel-verbatim">..allTests() &#123;printStat(  list,..</span></li><li>Run Test suite.</li></ol><h2 id="HOptionaltask"><span>Optional task</span></h2><p>Install and set up <span class="wikilink"><a href="https://odo.lv/xwiki/bin/view/Recipes/JD-Eclipse"><span class="wikigeneratedlinkcontent">JD-Eclipse</span></a></span> decompiler, and check, how Junit tests are implemented in <strong>JTM.jar</strong> library.</p><h2 id="HMoreinfo"><span>More info</span></h2><ul><li><span class="wikiexternallink"><a href="http://odo.lv/ftp/docs/Testesanas_rokasgramata.pdf">Testēšanas rokasgrāmata</a></span></li></ul><p><a name="top"></a></p><table width="100%"><tr><td width="40%" style="border: none; text-align: left;"><span class="wikilink"><a href="https://odo.lv/xwiki/bin/view/Training/JavaExercise13">Prev</a></span> <br/> <span class="xdocNavigation">13. JDBC</span></td><td width="20%" style="border: none; text-align: center;"><div><p><span class="wikilink"><a href="#top">Up</a></span> <br/> <span class="wikilink"><a href="https://odo.lv/xwiki/bin/view/Training/Java">Home</a></span></p></div></td><td style="border: none; text-align: right;"><span class="wikilink"><a href="https://odo.lv/xwiki/bin/view/Training/JavaExercise15">Next</a></span> <br/> <span class="xdocNavigation">15. GUI Application</span></td></tr></table></body></html>